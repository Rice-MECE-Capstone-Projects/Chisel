<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Set environment for scala</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	padding-inline-start: 0;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
	empty-cells: show;
}
.simple-table td {
	height: 29px;
	min-width: 120px;
}

.simple-table th {
	height: 29px;
	min-width: 120px;
}

.simple-table-header-color {
	background: rgb(247, 246, 243);
	color: black;
}
.simple-table-header {
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.highlight-gray_background {
	background: rgba(241, 241, 239, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.highlight-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.block-color-gray_background {
	background: rgba(241, 241, 239, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.block-color-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }
.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }
.select-value-color-green { background-color: rgba(219, 237, 219, 1); }
.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }
.select-value-color-translucentGray { background-color: rgba(255, 255, 255, 0.0375); }
.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }
.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }
.select-value-color-red { background-color: rgba(255, 226, 221, 1); }
.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }
.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="3a20f0a0-b7ad-4cde-9bb9-34a59b68d948" class="page sans"><header><h1 class="page-title">Set environment for scala</h1></header><div class="page-body"><p id="d7b875b3-2041-4ea6-80b6-84edbd61d1cd" class="">Install Java Development Kit (JDK): Chisel is written in Scala, so JDK is required to compile and run Chisel code. Install JDK using Homebrew:</p><pre id="259eb1fc-10c7-45ba-a497-c92a7c371ffd" class="code code-wrap"><code>brew install openjdk</code></pre><p id="35c8782b-f167-4791-9bb6-d3e9c6989f04" class="">Install sbt: sbt is a build tool for Scala projects. You can install it using Homebrew:</p><pre id="68b08466-41a0-4d68-9018-9b43a9f97add" class="code code-wrap"><code>brew install sbt</code></pre><p id="9beeb207-092b-4fa9-b8a4-fb575da34235" class="">Get Chisel Template: Clone the Chisel template to your computer by running the following command:</p><pre id="e015e37b-9f93-4c9a-b1a0-5348d7afe013" class="code code-wrap"><code>git clone https://github.com/ucb-bar/chisel-template.git</code></pre><p id="35845cb0-217a-47ba-b56f-bf297293b011" class="">Compiling and running Chisel projects: Navigate to the directory of the cloned project:</p><pre id="80f97378-08b5-4c39-8c17-8dd78c7ead7d" class="code code-wrap"><code>cd chisel-template</code></pre><p id="eb6d96ab-ed47-43fd-b9cc-8e983a6dffbb" class="">Then run sbt, which will start the sbt console:</p><pre id="5eea9a5b-db06-4241-b323-979565caa445" class="code code-wrap"><code>sbt</code></pre><p id="3d2ea94e-2921-41b1-a562-a2fb61c7b6a1" class="">Execute the following command in the sbt console to compile the project:</p><pre id="65f7cf1e-13f3-4fee-9108-26262fe4d658" class="code code-wrap"><code>compile</code></pre><p id="0a8b432b-98c4-4ae2-921c-9879cf6b7172" class="">To run the test, execute the following command:</p><pre id="c1d88dae-15d7-4300-8fd8-96ae0b64d595" class="code code-wrap"><code>test</code></pre><p id="c12b76da-3ad5-48dc-beae-10e3bec9a4d3" class="">Now, you can find some example files in the chisel-template project or start creating your own Chisel project. To learn how to write Chisel code, you can refer to the <a href="https://www.chisel-lang.org/"><strong>Chisel official documentation</strong></a>.</p><h1 id="0f7e7ca0-0f45-4240-88de-8ce6d25fd5a8" class="">What is sbt (Simple Build Tool）？</h1><p id="a30db974-f9f6-409a-855b-8a979e72e275" class=""><code><strong>sbt</strong></code> (Simple Build Tool) is a build tool for Scala projects that simplifies the build process while providing powerful functionality. Here are some basic rules and commonly used commands for sbt:</p><ol type="1" id="9a6008fa-9462-413a-9172-1578922ad6bc" class="numbered-list" start="1"><li>Project structure: sbt has a predefined project structure that needs to follow the following conventions:<ul id="cc0d7899-fc02-48ad-b2f2-6dc4e3495f71" class="bulleted-list"><li style="list-style-type:disc"><code><strong>src/main/scala</strong></code>: source code goes here</li></ul><ul id="77f42e70-0b1a-4241-8d94-11a59d1e43c9" class="bulleted-list"><li style="list-style-type:disc"><code><strong>src/main/resources</strong></code>: non-code resource files (like configuration files) go here</li></ul><ul id="206bd9ba-53b5-4876-8fbb-b657695b2ced" class="bulleted-list"><li style="list-style-type:disc"><code><strong>src/test/scala</strong></code>: test code goes here</li></ul><ul id="75860341-d434-40f9-bf0c-19afb136c5b2" class="bulleted-list"><li style="list-style-type:disc"><code><strong>src/test/resources</strong></code>: test resource files go here</li></ul><ul id="1c5cd87d-7675-4eb1-abc5-ebb4152d1c31" class="bulleted-list"><li style="list-style-type:disc"><code><strong>target</strong></code>: output directory of the compilation</li></ul><ul id="de599491-e993-4630-8a53-05e1a7ea8def" class="bulleted-list"><li style="list-style-type:disc"><code><strong>build.sbt</strong></code>: sbt build definition file</li></ul></li></ol><ol type="1" id="5ec67538-75e0-4feb-927b-95b9c226afc0" class="numbered-list" start="2"><li>Build definition file (<code><strong>build.sbt</strong></code>): this file contains the project&#x27;s build definition and configuration information. Here are some basic settings:<ul id="9d21bd3e-5082-4f1b-a82b-b3697eefa472" class="bulleted-list"><li style="list-style-type:disc"><code><strong>name</strong></code>: project name</li></ul><ul id="1006a681-f818-4976-a3df-ca620d6796d8" class="bulleted-list"><li style="list-style-type:disc"><code><strong>version</strong></code>: project version</li></ul><ul id="69fd657d-4f3b-43c7-b3f0-e6d773ca1f55" class="bulleted-list"><li style="list-style-type:disc"><code><strong>scalaVersion</strong></code>: Scala version used in the project</li></ul><ul id="dc9cc60f-10f5-4763-92b3-c557b3cc5b8a" class="bulleted-list"><li style="list-style-type:disc"><code><strong>libraryDependencies</strong></code>: external libraries that the project depends on</li></ul><p id="0ac2346b-493a-405e-a91a-d3440296c7bf" class="">For example:</p><pre id="ea040116-e8ec-4d24-b98e-6e130cf6a6dd" class="code code-wrap"><code>name := &quot;MyProject&quot;
version := &quot;1.0&quot;
scalaVersion := &quot;2.13.6&quot;
libraryDependencies += &quot;org.typelevel&quot; %% &quot;cats-core&quot; % &quot;2.6.1&quot;</code></pre></li></ol><ol type="1" id="3f731ae9-fec8-4f04-97b9-401a72e5d16b" class="numbered-list" start="3"><li>Common commands:</li></ol><ul id="8f3c91fd-e8ed-439b-a767-e569b3645903" class="bulleted-list"><li style="list-style-type:disc"><code><strong>compile</strong></code>: compile the project</li></ul><ul id="803807ab-efd0-4b9f-a889-95e313a07615" class="bulleted-list"><li style="list-style-type:disc"><code><strong>test</strong></code>: run tests</li></ul><ul id="9b230485-f38f-4e1f-992b-5bca286b0914" class="bulleted-list"><li style="list-style-type:disc"><code><strong>run</strong></code>: run the project</li></ul><ul id="1c94630a-b8ce-4de7-8463-75d3d1522b06" class="bulleted-list"><li style="list-style-type:disc"><code><strong>clean</strong></code>: clean the compilation output and temporary files</li></ul><ul id="0dd14117-e62a-45b3-9559-c6377a4e382b" class="bulleted-list"><li style="list-style-type:disc"><code><strong>reload</strong></code>: reload the build definition file (<code><strong>build.sbt</strong></code>)</li></ul><ul id="1cd06150-d181-4315-a638-d289ee4af998" class="bulleted-list"><li style="list-style-type:disc"><code><strong>update</strong></code>: update dependencies</li></ul><ul id="3fca6af7-5e7e-40ba-84b3-371297c22710" class="bulleted-list"><li style="list-style-type:disc"><code><strong>console</strong></code>: start an interactive Scala REPL with project classes and dependencies</li></ul><ul id="20b19ce3-8ab2-4f9c-9c02-bf1983fdb83b" class="bulleted-list"><li style="list-style-type:disc"><code><strong>package</strong></code>: package the project as a JAR file</li></ul><ul id="3ac38bb5-a95c-421f-9406-1d5d03805ac7" class="bulleted-list"><li style="list-style-type:disc"><code><strong>publish</strong></code>: publish the project to a remote repository</li></ul><ol type="1" id="8427f003-b004-4795-af72-57f590043e8e" class="numbered-list" start="1"><li>Multi-module projects: sbt supports multi-module projects, allowing multiple sub-projects to be defined within a single project. In the <code><strong>build.sbt</strong></code> file, sub-projects can be defined using <code><strong>lazy val</strong></code> and each sub-project can be specified with its own settings. For example:</li></ol><pre id="f3530067-1f6e-48e4-940c-222fb0e789c0" class="code code-wrap"><code>lazy val core = (project in file(&quot;core&quot;))
  .settings(
    name := &quot;MyProject-Core&quot;,
    libraryDependencies += &quot;com.typesafe.akka&quot; %% &quot;akka-actor&quot; % &quot;2.6.16&quot;
  )

lazy val webapp = (project in file(&quot;webapp&quot;))
  .settings(
    name := &quot;MyProject-WebApp&quot;,
    libraryDependencies += &quot;com.typesafe.play&quot; %% &quot;play&quot; % &quot;2.8.11&quot;
  )</code></pre><p id="2116d456-f7cb-411d-a3fc-7eda5d112e59" class="">In this example, we define two sub-projects named <code><strong>core</strong></code> and <code><strong>webapp</strong></code>. Each sub-project has its own dependencies</p><h1 id="7cbba7a3-b932-43e6-831b-bd2fe4753b4f" class="">How to start your chisel coding</h1><h3 id="da133117-99ed-4cb8-a897-043ecd429fa1" class="">Create a repository from the template</h3><p id="2a9c4067-fd17-4380-a24c-1373613250f4" class="">This repository is a Github template. You can create your own repository from it by clicking the green <code>Use this template</code> in the top right. Please leave <code>Include all branches</code> <strong>unchecked</strong>; checking it will pollute the history of your new repository. For more information, see <a href="https://docs.github.com/en/free-pro-team@latest/github/creating-cloning-and-archiving-repositories/creating-a-repository-from-a-template">&quot;Creating a repository from a template&quot;</a>.</p><h3 id="f9e728ce-8cda-4f46-b206-70dd0b3c7b1d" class="">Wait for the template cleanup workflow to complete</h3><p id="efbb356f-db0f-4259-b641-dc5b1cbed2af" class="">After using the template to create your own blank project, please wait a minute or two for the <code>Template cleanup</code> workflow to run which will removes some template-specific stuff from the repository (like the LICENSE). Refresh the repository page in your browser until you see a 2nd commit by <code>actions-user</code> titled <code>Template cleanup</code>.</p><h3 id="1a64a0ab-8a2a-4b08-97b8-fa3f32bfa1ab" class="">Clone your repository</h3><p id="dd9df319-0c93-444b-abf7-a38dc694b187" class="">Once you have created a repository from this template and the <code>Template cleanup</code> workflow has completed, you can click the green button to get a link for cloning your repository. Note that it is easiest to push to a repository if you set up SSH with Github, please see the <a href="https://docs.github.com/en/free-pro-team@latest/github/authenticating-to-github/connecting-to-github-with-ssh">related documentation</a>. SSH is required for pushing to a Github repository when using two-factor authentication.</p><p id="06a5e60f-f676-4215-9fc5-8b9616036b51" class=""><code>git clone git@github.com:rolyneko/test2_chisel.git
cd test2_chisel</code></p><h3 id="f5187394-c3e2-4f6c-a3f7-9392a84f90ac" class="">Set project organization and name in build.sbt</h3><p id="9b511a64-ecc5-4934-bb8d-dd803e7759cf" class="">The cleanup workflow will have attempted to provide sensible defaults for <code>ThisBuild / organization</code> and <code>name</code> in the <code>build.sbt</code>. Feel free to use your text editor of choice to change them as you see fit.</p><h3 id="a93c14a7-3c86-4fdd-abd6-d8f0f220a076" class="">Clean up the README.md file</h3><p id="11f68a63-4717-47f4-9184-bd6074781d2d" class="">Again, use you editor of choice to make the README specific to your project.</p><h3 id="2549b586-7dd4-406d-b226-5a1937013e2c" class="">Add a LICENSE file</h3><p id="e564a3ba-3cca-423a-8da1-09cfad32f835" class="">It is important to have a LICENSE for open source (or closed source) code. This template repository has the Unlicense in order to allow users to add any license they want to derivative code. The Unlicense is stripped when creating a repository from this template so that users do not accidentally unlicense their own work.</p><p id="c99de5f4-a95e-4d8a-8a6d-57d74def23ad" class="">For more information about a license, check out the <a href="https://docs.github.com/en/free-pro-team@latest/github/building-a-strong-community/adding-a-license-to-a-repository">Github Docs</a>.</p><h3 id="c9135cab-df74-4925-a0d5-5bff9b622bb3" class="">Commit your changes</h3><p id="652c63eb-adaa-4884-921b-4825cd1337b5" class=""><code>git commit -m &#x27;Starting test2_chisel&#x27;
git push origin main</code></p><h3 id="ceeac60e-92cd-46b7-9ec5-d45b14cde77a" class="">Did it work?</h3><p id="3500baef-1e90-45fc-b48d-465eebe5a920" class="">You should now have a working Chisel3 project.</p><p id="cf447dd7-976f-4921-ab2a-de5c3f05d5e8" class="">You can run the included test with:</p><p id="ea98bbe5-a03c-4575-9360-fdea540f8184" class=""><code>sbt test</code></p><p id="e1189d02-6ada-4038-bc7d-e230d4384719" class="">You should see a whole bunch of output that ends with something like the following lines</p><p id="2643f4c9-f985-453d-b215-506eef5e842c" class=""><code>[info] Tests: succeeded 1, failed 0, canceled 0, ignored 0, pending 0
[info] All tests passed.
[success] Total time: 5 s, completed Dec 16, 2020 12:18:44 PM</code></p><p id="529ba8b7-49a9-42dc-bb83-c8ef45ef37a5" class="">If you see the above then...</p><h3 id="95a0c0c1-626a-4b6b-b6ba-ee47714e149c" class="">It worked!</h3><p id="67e92084-60e3-4463-98b3-ccce1b365b09" class="">You are ready to go.</p><p id="dfdf0a94-b660-48bd-9d04-bba285473bfb" class="">
</p><h1 id="29b19556-e5a2-444f-ba37-2eeea483229b" class="">A simple example in chisel</h1><p id="2d166662-52d9-4c7f-bf28-21006e293e0b" class="">This code is for computing the most common divisor</p><pre id="2e000855-0ee2-48f4-ba0d-efff1d8b9cc6" class="code"><code>package gcd

import chisel3._
import chisel3.util.Decoupled

class GcdInputBundle(val w: Int) extends Bundle {
  val value1 = UInt(w.W)
  val value2 = UInt(w.W)
}

class GcdOutputBundle(val w: Int) extends Bundle {
  val value1 = UInt(w.W)
  val value2 = UInt(w.W)
  val gcd    = UInt(w.W)
}

/**
  * Compute Gcd using subtraction method.
  * Subtracts the smaller from the larger until register y is zero.
  * value input register x is then the Gcd.
  * Unless first input is zero then the Gcd is y.
  * Can handle stalls on the producer or consumer side
  */
class DecoupledGcd(width: Int) extends Module {
  val input = IO(Flipped(Decoupled(new GcdInputBundle(width))))
  val output = IO(Decoupled(new GcdOutputBundle(width)))

  val xInitial    = Reg(UInt())
  val yInitial    = Reg(UInt())
  val x           = Reg(UInt())
  val y           = Reg(UInt())
  val busy        = RegInit(false.B)
  val resultValid = RegInit(false.B)

  input.ready := ! busy
  output.valid := resultValid
  output.bits := DontCare

  when(busy)  {
    when(x &gt; y) {
      x := x - y
    }.otherwise {
      y := y - x
    }
    when(x === 0.U || y === 0.U) {
      when(x === 0.U) {
        output.bits.gcd := y
      }.otherwise {
        output.bits.gcd := x
      }

      output.bits.value1 := xInitial
      output.bits.value2 := yInitial
      resultValid := true.B

      when(output.ready &amp;&amp; resultValid) {
        busy := false.B
        resultValid := false.B
      }
    }
  }.otherwise {
    when(input.valid) {
      val bundle = input.deq()
      x := bundle.value1
      y := bundle.value2
      xInitial := bundle.value1
      yInitial := bundle.value2
      busy := true.B
    }
  }
}</code></pre><p id="d6f78a72-a025-4a54-ba1e-3750fa2ae786" class="">
</p><p id="18739f4b-fe4f-47d8-8717-2dc21025261d" class="">Below is is to verify that the <code><strong>DecoupledGcd</strong></code>module can correctly compute the greatest common divisor for various input data, and it also tests the behavior of the module during input and output stalls.</p><pre id="983c26ee-33d0-4fca-9512-ba5452ce1b8b" class="code"><code>package gcd

import chisel3._
import chiseltest._
import org.scalatest.freespec.AnyFreeSpec
import chisel3.experimental.BundleLiterals._

class GCDSpec extends AnyFreeSpec with ChiselScalatestTester {

  &quot;Gcd should calculate proper greatest common denominator&quot; in {
    test(new DecoupledGcd(16)) { dut =&gt;
      dut.input.initSource()
      dut.input.setSourceClock(dut.clock)
      dut.output.initSink()
      dut.output.setSinkClock(dut.clock)

      val testValues = for { x &lt;- 0 to 10; y &lt;- 0 to 10} yield (x, y)
      val inputSeq = testValues.map { case (x, y) =&gt; (new GcdInputBundle(16)).Lit(_.value1 -&gt; x.U, _.value2 -&gt; y.U) }
      val resultSeq = testValues.map { case (x, y) =&gt;
        (new GcdOutputBundle(16)).Lit(_.value1 -&gt; x.U, _.value2 -&gt; y.U, _.gcd -&gt; BigInt(x).gcd(BigInt(y)).U)
      }

      fork {
        // push inputs into the calculator, stall for 11 cycles one third of the way
        val (seq1, seq2) = inputSeq.splitAt(resultSeq.length / 3)
        dut.input.enqueueSeq(seq1)
        dut.clock.step(11)
        dut.input.enqueueSeq(seq2)
      }.fork {
        // retrieve computations from the calculator, stall for 10 cycles one half of the way
        val (seq1, seq2) = resultSeq.splitAt(resultSeq.length / 2)
        dut.output.expectDequeueSeq(seq1)
        dut.clock.step(10)
        dut.output.expectDequeueSeq(seq2)
      }.join()

    }
  }
}</code></pre><p id="e60eab30-f789-44e6-9fe7-694d878cec34" class="">
</p><p id="d2c840cf-f9a0-4d1d-b936-dd4c3565137d" class="">The test result shows as below.</p><pre id="d177151a-2b14-4ab3-9852-2465e1a06557" class="code"><code>rolycowneko@macbook-pro-13 test2_chisel % sbt test
[info] welcome to sbt 1.8.0 (Homebrew Java 20)
[info] loading settings for project test2_chisel-build from plugins.sbt ...
[info] loading project definition from /Users/rolycowneko/test2_chisel/project
[info] loading settings for project root from build.sbt ...
[info] set current project to test2_chisel (in build file:/Users/rolycowneko/test2_chisel/)
[info] GCDSpec:
[info] - Gcd should calculate proper greatest common denominator
[info] Run completed in 1 second, 611 milliseconds.
[info] Total number of tests run: 1
[info] Suites: completed 1, aborted 0
[info] Tests: succeeded 1, failed 0, canceled 0, ignored 0, pending 0
[info] All tests passed.</code></pre></div></article></body></html>